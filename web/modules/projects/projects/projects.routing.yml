# Project Apply REST route is defined in ProjectApplyResource::routes.
# Transition REST routes are defined in ProjectTransitionRestResourceRoutesTrait::routes.
# REST routes inherit the transition default, _custom_access requirement
# and parameters option.
# The converter has to be set as paramconverter.uuid to resolve REST
# requests with UUIDs correctly.
project.mediate:
  path: '/projects/{project}/mediate'
  defaults:
    _form: '\Drupal\projects\Form\ProjectMediateForm'
    _title: 'Mediate Project'
    transition: 'mediate'
  requirements:
    _custom_access: '\Drupal\projects\Access\ProjectTransitionAccess::accessProjectTransition'
    project: \d+
  options:
    _admin_route: TRUE
    parameters:
      project:
        type: entity:node
        converter: paramconverter.uuid

project.publish:
  path: '/projects/{project}/publish'
  defaults:
    _form: '\Drupal\projects\Form\ProjectPublishForm'
    _title: 'Publish Project'
    transition: 'publish'
  requirements:
    _custom_access: '\Drupal\projects\Access\ProjectTransitionAccess::accessProjectTransition'
    project: \d+
  options:
    _admin_route: TRUE
    parameters:
      project:
        type: entity:node
        converter: paramconverter.uuid

project.submit:
  path: '/projects/{project}/submit'
  defaults:
    _form: '\Drupal\projects\Form\ProjectSubmitForm'
    _title: 'Submit Project'
    transition: 'submit'
  requirements:
    _custom_access: '\Drupal\projects\Access\ProjectTransitionAccess::accessProjectTransition'
    project: \d+
  options:
    _admin_route: TRUE
    parameters:
      project:
        type: entity:node
        converter: paramconverter.uuid
